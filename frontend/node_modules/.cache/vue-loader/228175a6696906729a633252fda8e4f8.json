{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue","mtime":1619057276520},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdHJhdGVneUl0ZW0gZnJvbSAiLi4vY29tcG9uZW50cy9TdHJhdGVneUl0ZW0iCmltcG9ydCB7Z2V0U3RyYXRlZ2llc30gZnJvbSAiQC9hcGkiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN0cmF0ZWd5LWxpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIFN0cmF0ZWd5SXRlbQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0cmF0ZWd5TGlzdDogW10KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFN0cmF0ZWd5TGlzdChkYXRhKSB7CiAgICAgIHRoaXMuc3RyYXRlZ3lMaXN0ID0gZGF0YS5tYXAoc3RyYXRlZ3kgPT4gKHsKICAgICAgICBpZDogc3RyYXRlZ3kuaWQsCiAgICAgICAgbmFtZTogc3RyYXRlZ3kubmFtZSwKICAgICAgICBicmllZjogc3RyYXRlZ3kuYnJpZWYsCiAgICAgICAgZGVzY3JpcHRpb246IHN0cmF0ZWd5LmRlc2NyaXB0aW9uLAogICAgICB9KSkKICAgIH0sCiAgICBhc3luYyBnZXRTdHJhdGVneUxpc3QoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgc3RyYXRlZ2llc1JlcyA9IGF3YWl0IGdldFN0cmF0ZWdpZXMoKQogICAgICAgIGNvbnNvbGUubG9nKHN0cmF0ZWdpZXNSZXMpCiAgICAgICAgdGhpcy5zZXRTdHJhdGVneUxpc3Qoc3RyYXRlZ2llc1Jlcy5kYXRhLnJlc3VsdHMpCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCfml6Dms5Xojrflj5bnrZbnlaXliJfooajmlbDmja4nLCB7CiAgICAgICAgICAgIHRpdGxlOiAn5peg5rOV6I635Y+W562W55Wl5YiX6KGo5pWw5o2uJywKICAgICAgICAgICAgYXV0b0hpZGVEZWxheTogMzAwMCwKICAgICAgICAgICAgdG9hc3RlcjogJ2ItdG9hc3Rlci10b3AtY2VudGVyJywKICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgIGFwcGVuZFRvYXN0OiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoZXJyb3IubWVzc2FnZSwgewogICAgICAgICAgICB0aXRsZTogJ+aXoOazleiOt+WPluetlueVpeWIl+ihqOaVsOaNricsCiAgICAgICAgICAgIGF1dG9IaWRlRGVsYXk6IDMwMDAsCiAgICAgICAgICAgIHRvYXN0ZXI6ICdiLXRvYXN0ZXItdG9wLWNlbnRlcicsCiAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICBhcHBlbmRUb2FzdDogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0U3RyYXRlZ3lMaXN0KCkKICB9LAp9Cg=="},{"version":3,"sources":["StrategyListView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StrategyListView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mx-sm-2 mx-md-3\">\n    <div class=\"mb-3\">\n      <router-link :to=\"{name: 'strategy-add'}\">\n        <b-button variant=\"primary\">\n          <b-icon icon=\"plus\" aria-hidden=\"true\"></b-icon>\n          新增策略\n        </b-button>\n      </router-link>\n    </div>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" lg=\"4\" v-for=\"strategy in strategyList\" :key=\"strategy.id\" class=\"mb-3\">\n        <strategy-item\n            :strategy=\"strategy\"\n            class=\"strategy-item\">\n        </strategy-item>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport StrategyItem from \"../components/StrategyItem\"\nimport {getStrategies} from \"@/api\"\n\nexport default {\n  name: \"strategy-list\",\n  components: {\n    StrategyItem\n  },\n  data() {\n    return {\n      strategyList: []\n    }\n  },\n  methods: {\n    setStrategyList(data) {\n      this.strategyList = data.map(strategy => ({\n        id: strategy.id,\n        name: strategy.name,\n        brief: strategy.brief,\n        description: strategy.description,\n      }))\n    },\n    async getStrategyList() {\n      try {\n        const strategiesRes = await getStrategies()\n        console.log(strategiesRes)\n        this.setStrategyList(strategiesRes.data.results)\n      } catch (error) {\n        if (error.response) {\n          this.$bvToast.toast('无法获取策略列表数据', {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        } else {\n          this.$bvToast.toast(error.message, {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getStrategyList()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.strategy-item {\n  height: 100%;\n}\n</style>"]}]}