{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue?vue&type=style&index=0&id=20ad2a30&lang=scss&scoped=true&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue","mtime":1619057276520},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc3RyYXRlZ3ktaXRlbSB7CiAgaGVpZ2h0OiAxMDAlOwp9Cg=="},{"version":3,"sources":["StrategyListView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA","file":"StrategyListView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mx-sm-2 mx-md-3\">\n    <div class=\"mb-3\">\n      <router-link :to=\"{name: 'strategy-add'}\">\n        <b-button variant=\"primary\">\n          <b-icon icon=\"plus\" aria-hidden=\"true\"></b-icon>\n          新增策略\n        </b-button>\n      </router-link>\n    </div>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" lg=\"4\" v-for=\"strategy in strategyList\" :key=\"strategy.id\" class=\"mb-3\">\n        <strategy-item\n            :strategy=\"strategy\"\n            class=\"strategy-item\">\n        </strategy-item>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport StrategyItem from \"../components/StrategyItem\"\nimport {getStrategies} from \"@/api\"\n\nexport default {\n  name: \"strategy-list\",\n  components: {\n    StrategyItem\n  },\n  data() {\n    return {\n      strategyList: []\n    }\n  },\n  methods: {\n    setStrategyList(data) {\n      this.strategyList = data.map(strategy => ({\n        id: strategy.id,\n        name: strategy.name,\n        brief: strategy.brief,\n        description: strategy.description,\n      }))\n    },\n    async getStrategyList() {\n      try {\n        const strategiesRes = await getStrategies()\n        console.log(strategiesRes)\n        this.setStrategyList(strategiesRes.data.results)\n      } catch (error) {\n        if (error.response) {\n          this.$bvToast.toast('无法获取策略列表数据', {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        } else {\n          this.$bvToast.toast(error.message, {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getStrategyList()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.strategy-item {\n  height: 100%;\n}\n</style>"]}]}