{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/components/RobotListItem.vue?vue&type=style&index=0&id=26a7a6da&scoped=true&lang=css&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/components/RobotListItem.vue","mtime":1619057276517},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpoMyB7CiAgICBtYXJnaW46IDQwcHggMCAwOwp9Cgp1bCB7CiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgICBwYWRkaW5nOiAwOwp9CgpsaSB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBtYXJnaW46IDAgMTBweDsKfQoKYSB7CiAgICBjb2xvcjogIzQyYjk4MzsKfQoKLmFjdGlvbi1idXR0b25zIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5jYXJkOmhvdmVyIC5hY3Rpb24tYnV0dG9ucyB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0K"},{"version":3,"sources":["RobotListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"RobotListItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-card class=\"mb-4 card\">\n        <div class=\"d-flex align-items-center\">\n            <span :class=\"['mr-1', 'd-inline-flex', robotStatusClass]\">\n                <b-icon icon=\"circle-fill\" font-scale=\"0.6\" :animation=\"robotStatusAnimation\"></b-icon>\n            </span>\n            <router-link :to=\"{ name: 'robot', params: { id: robot.robotId } }\" class=\"font-weight-bold text-body\">\n                <span class=\"mr-2\">{{ robot.name }}</span>\n                <span class=\"text-muted font-weight-light\">{{ robot.exchangeNameZh }} {{ robot.pair }}</span>\n            </router-link>\n            <span class=\"ml-auto action-buttons\">\n                <router-link :to=\"{ name: 'robot-update', params: { id: robot.robotId } }\" class=\"mr-2\">\n                    <b-icon-pencil-square></b-icon-pencil-square>\n                </router-link>\n                <a href=\"#\" class=\"text-danger\" @click=\"showMsgBox\">\n                    <b-icon-trash></b-icon-trash>\n                </a>\n            </span>\n        </div>\n        <div class=\"d-flex justify-content-between mt-2\">\n            <span>\n                <span class=\"small text-muted\">收益率</span><br />\n                <span :class=\"[profitColorClass, 'h6']\">{{ robot.profitRatioPtg }}</span></span\n            >\n            <span>\n                <span class=\"small text-muted\">收益额({{ robot.targetCurrency }})</span><br />\n                <span :class=\"profitColorClass\">\n                    <small>{{ robot.profit | roundByCurrency(robot.targetCurrency) }}</small>\n                </span></span\n            >\n            <span>\n                <span class=\"small text-muted\">本金({{ robot.targetCurrency }})</span><br />\n                <span class=\"\">\n                    <small> {{ robot.principal | roundByCurrency(robot.targetCurrency) }}</small>\n                </span>\n            </span>\n            <span>\n                <span class=\"small text-muted\">余额({{ robot.targetCurrency }})</span><br /><span class=\"\">\n                    <small>{{ robot.balance | roundByCurrency(robot.targetCurrency) }}</small>\n                </span>\n            </span>\n        </div>\n        <!-- <div class=\"text-muted mt-2\">\n            <span class=\"mr-2\">{{ robot.exchangeNameZh }}</span>\n            <span>{{ robot.pair }}</span>\n            <span class=\"float-right\">{{ robot.durationDisplay }}</span>\n        </div> -->\n        <hr />\n        <div class=\"small d-flex justify-content-between\">\n            <div class=\"d-inline-block\">\n                <span class=\"mr-1 text-muted\">较前日</span>\n                <span :class=\"[profit24hColorClass, 'mr-1']\">\n                    <b-icon-caret-up-fill v-if=\"robot.profit24h > 0\"></b-icon-caret-up-fill>\n                    <b-icon-caret-down-fill v-if=\"robot.profit24h < 0\"></b-icon-caret-down-fill>\n                    {{ robot.profitRatioPtg24h }}\n                </span>\n                <span :class=\"profit24hColorClass\">\n                    {{ robot.profit24h | roundByCurrency(robot.targetCurrency) }}\n                    <span class=\"font-weight-light\"> {{ robot.targetCurrency }}</span>\n                </span>\n            </div>\n            <div class=\"d-inline-block\">\n                <b-icon icon=\"graph-up\" class=\"mr-1\"></b-icon>\n                <span class=\"\"> {{ robot.strategyName }} </span>\n                <span class=\"text-muted\"> {{ robot.durationDisplay }} </span>\n            </div>\n        </div>\n    </b-card>\n</template>\n\n<script>\nimport moment from 'moment';\nimport { deleteRobotsId } from '../api';\n\nexport default {\n    name: 'RobotListItem',\n    props: {\n        robot: Object,\n    },\n    computed: {\n        robotStatusClass() {\n            return moment().diff(this.robot.pingTime, 'seconds') < 60 ? 'text-success' : 'text-danger';\n        },\n        robotStatusAnimation() {\n            return this.robotStatusClass === 'text-danger' ? '' : 'throb';\n        },\n        profitColorClass() {\n            return this.robot.profit > 0 ? 'text-success' : this.robot.profit < 0 ? 'text-danger' : '';\n        },\n        profit24hColorClass() {\n            return this.robot.profit24h > 0 ? 'text-success' : this.robot.profit24h < 0 ? 'text-danger' : '';\n        },\n    },\n    filters: {\n        roundByCurrency(value, currency) {\n            switch (currency) {\n                case 'BTC':\n                    return value.toFixed(4);\n                case 'USDT':\n                    return value.toFixed(2);\n                default:\n                    return value;\n            }\n        },\n    },\n    methods: {\n        async showMsgBox() {\n            const confirm = await this.$bvModal.msgBoxConfirm('删除机器人将同时删除其所有资产统计数据。', {\n                title: '确认删除？',\n                size: 'sm',\n                buttonSize: 'sm',\n                okVariant: 'danger',\n                okTitle: '确认',\n                cancelTitle: '取消',\n                footerClass: 'p-2',\n                hideHeaderClose: false,\n                centered: true,\n            });\n            if (!confirm) {\n                return;\n            }\n            try {\n                await deleteRobotsId(this.robot.robotId);\n                this.$emit('refresh');\n            } catch (error) {\n                this.$bvToast.toast(`无法删除机器人数据，错误信息：${error.data || '未知错误'}`, {\n                    title: '删除失败',\n                    autoHideDelay: 3000,\n                    toaster: 'b-toaster-top-right',\n                    variant: 'danger',\n                    appendToast: false,\n                });\n            }\n        },\n    },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n    margin: 40px 0 0;\n}\n\nul {\n    list-style-type: none;\n    padding: 0;\n}\n\nli {\n    display: inline-block;\n    margin: 0 10px;\n}\n\na {\n    color: #42b983;\n}\n\n.action-buttons {\n    display: none;\n}\n\n.card:hover .action-buttons {\n    display: inline-block;\n}\n</style>\n"]}]}