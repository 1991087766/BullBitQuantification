{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/components/robot-console/LogPanel.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/components/robot-console/LogPanel.vue","mtime":1619057276518},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sb2ctY29udGVudCB7CiAgICBoZWlnaHQ6IDM2MHB4OwogICAgLyogbWF4LWhlaWdodDogNzB2aDsgKi8KICAgIHBhZGRpbmctYm90dG9tOiA1MHB4OwogICAgb3ZlcmZsb3cteTogc2Nyb2xsOwp9CgoubG9nLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDA7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7Cn0KCi5sb2ctY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KCi5sb2ctY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDZweDsKfQo="},{"version":3,"sources":["LogPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"LogPanel.vue","sourceRoot":"src/components/robot-console","sourcesContent":["<template>\n    <b-card no-body header-tag=\"header\" bg-variant=\"dark\" text-variant=\"white\">\n        <template v-slot:header>\n            <div>\n                <span>日志监控</span>\n            </div>\n        </template>\n        <ul class=\"list-unstyled robot-log-ul px-3 pt-2 pb-5 small mb-0 log-content\" ref=\"robotLogUl\">\n            <li v-for=\"(log, index) in logList\" :key=\"index\">\n                <span v-if=\"log.timestamp\">{{ log.timestamp | timeFormatter }}</span>\n                <span v-if=\"log.level\" :class=\"['mx-1', levelColor(log.level)]\">{{ log.level.toUpperCase() }}</span>\n                {{ log.text }}\n            </li>\n            <li v-if=\"!logList.length\">正在等待接收日志......</li>\n        </ul>\n    </b-card>\n</template>\n\n<script>\nimport moment from 'moment';\n\nexport default {\n    name: 'LogPanel',\n    props: ['logList'],\n    data() {\n        return {\n            robotId: null,\n            ws: null,\n        };\n    },\n    watch: {\n        logList() {\n            this.updateScroll();\n        },\n    },\n    filters: {\n        timeFormatter(timestamp) {\n            return moment(timestamp).format('YYYY-MM-DD HH:mm:ss');\n        },\n    },\n\n    mounted() {\n        this.robotId = this.$route.params.id;\n    },\n\n    methods: {\n        updateScroll() {\n            this.$nextTick(() => {\n                this.$refs.robotLogUl.scrollTop =\n                    this.$refs.robotLogUl.scrollHeight - this.$refs.robotLogUl.clientHeight;\n            });\n        },\n        levelColor(level) {\n            switch (level.toUpperCase()) {\n                case 'DEBUG':\n                    return 'text-secondary';\n                case 'INFO':\n                    return 'text-info';\n                case 'WARNING':\n                    return 'text-warning';\n                case 'ERROR':\n                    return 'text-danger';\n                case 'SUCCESS':\n                    return 'text-success';\n                default:\n                    return '';\n            }\n        },\n    },\n};\n</script>\n\n<style>\n.log-content {\n    height: 360px;\n    /* max-height: 70vh; */\n    padding-bottom: 50px;\n    overflow-y: scroll;\n}\n\n.log-content::-webkit-scrollbar-track {\n    background-color: #343a40;\n    border-radius: 8px;\n}\n\n.log-content::-webkit-scrollbar-thumb {\n    background-color: black;\n    border-radius: 5px;\n}\n\n.log-content::-webkit-scrollbar {\n    width: 6px;\n}\n</style>\n"]}]}