{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/components/robot-console/LogPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/components/robot-console/LogPanel.vue","mtime":1619057276518},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ1BhbmVsJywKICBwcm9wczogWydsb2dMaXN0J10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvYm90SWQ6IG51bGwsCiAgICAgIHdzOiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGxvZ0xpc3Q6IGZ1bmN0aW9uIGxvZ0xpc3QoKSB7CiAgICAgIHRoaXMudXBkYXRlU2Nyb2xsKCk7CiAgICB9CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0aW1lRm9ybWF0dGVyOiBmdW5jdGlvbiB0aW1lRm9ybWF0dGVyKHRpbWVzdGFtcCkgewogICAgICByZXR1cm4gbW9tZW50KHRpbWVzdGFtcCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yb2JvdElkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlU2Nyb2xsOiBmdW5jdGlvbiB1cGRhdGVTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMucm9ib3RMb2dVbC5zY3JvbGxUb3AgPSBfdGhpcy4kcmVmcy5yb2JvdExvZ1VsLnNjcm9sbEhlaWdodCAtIF90aGlzLiRyZWZzLnJvYm90TG9nVWwuY2xpZW50SGVpZ2h0OwogICAgICB9KTsKICAgIH0sCiAgICBsZXZlbENvbG9yOiBmdW5jdGlvbiBsZXZlbENvbG9yKGxldmVsKSB7CiAgICAgIHN3aXRjaCAobGV2ZWwudG9VcHBlckNhc2UoKSkgewogICAgICAgIGNhc2UgJ0RFQlVHJzoKICAgICAgICAgIHJldHVybiAndGV4dC1zZWNvbmRhcnknOwoKICAgICAgICBjYXNlICdJTkZPJzoKICAgICAgICAgIHJldHVybiAndGV4dC1pbmZvJzsKCiAgICAgICAgY2FzZSAnV0FSTklORyc6CiAgICAgICAgICByZXR1cm4gJ3RleHQtd2FybmluZyc7CgogICAgICAgIGNhc2UgJ0VSUk9SJzoKICAgICAgICAgIHJldHVybiAndGV4dC1kYW5nZXInOwoKICAgICAgICBjYXNlICdTVUNDRVNTJzoKICAgICAgICAgIHJldHVybiAndGV4dC1zdWNjZXNzJzsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["LogPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,CAAA,SAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,EAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,YAAA;AACA;AAHA,GATA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,SADA,EACA;AACA,aAAA,MAAA,CAAA,SAAA,CAAA,CAAA,MAAA,CAAA,qBAAA,CAAA;AACA;AAHA,GAdA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,OAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,GAtBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,SAAA,GACA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,YAAA,GAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,YADA;AAEA,OAHA;AAIA,KANA;AAOA,IAAA,UAPA,sBAOA,KAPA,EAOA;AACA,cAAA,KAAA,CAAA,WAAA,EAAA;AACA,aAAA,OAAA;AACA,iBAAA,gBAAA;;AACA,aAAA,MAAA;AACA,iBAAA,WAAA;;AACA,aAAA,SAAA;AACA,iBAAA,cAAA;;AACA,aAAA,OAAA;AACA,iBAAA,aAAA;;AACA,aAAA,SAAA;AACA,iBAAA,cAAA;;AACA;AACA,iBAAA,EAAA;AAZA;AAcA;AAtBA;AAxBA,CAAA","sourcesContent":["<template>\n    <b-card no-body header-tag=\"header\" bg-variant=\"dark\" text-variant=\"white\">\n        <template v-slot:header>\n            <div>\n                <span>日志监控</span>\n            </div>\n        </template>\n        <ul class=\"list-unstyled robot-log-ul px-3 pt-2 pb-5 small mb-0 log-content\" ref=\"robotLogUl\">\n            <li v-for=\"(log, index) in logList\" :key=\"index\">\n                <span v-if=\"log.timestamp\">{{ log.timestamp | timeFormatter }}</span>\n                <span v-if=\"log.level\" :class=\"['mx-1', levelColor(log.level)]\">{{ log.level.toUpperCase() }}</span>\n                {{ log.text }}\n            </li>\n            <li v-if=\"!logList.length\">正在等待接收日志......</li>\n        </ul>\n    </b-card>\n</template>\n\n<script>\nimport moment from 'moment';\n\nexport default {\n    name: 'LogPanel',\n    props: ['logList'],\n    data() {\n        return {\n            robotId: null,\n            ws: null,\n        };\n    },\n    watch: {\n        logList() {\n            this.updateScroll();\n        },\n    },\n    filters: {\n        timeFormatter(timestamp) {\n            return moment(timestamp).format('YYYY-MM-DD HH:mm:ss');\n        },\n    },\n\n    mounted() {\n        this.robotId = this.$route.params.id;\n    },\n\n    methods: {\n        updateScroll() {\n            this.$nextTick(() => {\n                this.$refs.robotLogUl.scrollTop =\n                    this.$refs.robotLogUl.scrollHeight - this.$refs.robotLogUl.clientHeight;\n            });\n        },\n        levelColor(level) {\n            switch (level.toUpperCase()) {\n                case 'DEBUG':\n                    return 'text-secondary';\n                case 'INFO':\n                    return 'text-info';\n                case 'WARNING':\n                    return 'text-warning';\n                case 'ERROR':\n                    return 'text-danger';\n                case 'SUCCESS':\n                    return 'text-success';\n                default:\n                    return '';\n            }\n        },\n    },\n};\n</script>\n\n<style>\n.log-content {\n    height: 360px;\n    /* max-height: 70vh; */\n    padding-bottom: 50px;\n    overflow-y: scroll;\n}\n\n.log-content::-webkit-scrollbar-track {\n    background-color: #343a40;\n    border-radius: 8px;\n}\n\n.log-content::-webkit-scrollbar-thumb {\n    background-color: black;\n    border-radius: 5px;\n}\n\n.log-content::-webkit-scrollbar {\n    width: 6px;\n}\n</style>\n"],"sourceRoot":"src/components/robot-console"}]}