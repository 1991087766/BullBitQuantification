{"remainingRequest":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/navyxu/PycharmProjects/ox/frontend/src/views/StrategyListView.vue","mtime":1619057276520},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/navyxu/PycharmProjects/ox/frontend/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXZ5eHUvUHljaGFybVByb2plY3RzL294L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xMy4xN0BAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN0cmF0ZWd5SXRlbSBmcm9tICIuLi9jb21wb25lbnRzL1N0cmF0ZWd5SXRlbSI7CmltcG9ydCB7IGdldFN0cmF0ZWdpZXMgfSBmcm9tICJAL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3RyYXRlZ3ktbGlzdCIsCiAgY29tcG9uZW50czogewogICAgU3RyYXRlZ3lJdGVtOiBTdHJhdGVneUl0ZW0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHJhdGVneUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0U3RyYXRlZ3lMaXN0OiBmdW5jdGlvbiBzZXRTdHJhdGVneUxpc3QoZGF0YSkgewogICAgICB0aGlzLnN0cmF0ZWd5TGlzdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChzdHJhdGVneSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogc3RyYXRlZ3kuaWQsCiAgICAgICAgICBuYW1lOiBzdHJhdGVneS5uYW1lLAogICAgICAgICAgYnJpZWY6IHN0cmF0ZWd5LmJyaWVmLAogICAgICAgICAgZGVzY3JpcHRpb246IHN0cmF0ZWd5LmRlc2NyaXB0aW9uCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U3RyYXRlZ3lMaXN0OiBmdW5jdGlvbiBnZXRTdHJhdGVneUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzdHJhdGVnaWVzUmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3RyYXRlZ2llcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBzdHJhdGVnaWVzUmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cmF0ZWdpZXNSZXMpOwoKICAgICAgICAgICAgICAgIF90aGlzLnNldFN0cmF0ZWd5TGlzdChzdHJhdGVnaWVzUmVzLmRhdGEucmVzdWx0cyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ2VG9hc3QudG9hc3QoJ+aXoOazleiOt+WPluetlueVpeWIl+ihqOaVsOaNricsIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aXoOazleiOt+WPluetlueVpeWIl+ihqOaVsOaNricsCiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEZWxheTogMzAwMCwKICAgICAgICAgICAgICAgICAgICB0b2FzdGVyOiAnYi10b2FzdGVyLXRvcC1jZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvYXN0OiBmYWxzZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidlRvYXN0LnRvYXN0KF9jb250ZXh0LnQwLm1lc3NhZ2UsIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aXoOazleiOt+WPluetlueVpeWIl+ihqOaVsOaNricsCiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGVEZWxheTogMzAwMCwKICAgICAgICAgICAgICAgICAgICB0b2FzdGVyOiAnYi10b2FzdGVyLXRvcC1jZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvYXN0OiBmYWxzZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTdHJhdGVneUxpc3QoKTsKICB9Cn07"},{"version":3,"sources":["StrategyListView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,YAAA,MAAA,4BAAA;AACA,SAAA,aAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,IADA,EACA;AACA,WAAA,YAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,QAAA;AAAA,eAAA;AACA,UAAA,EAAA,EAAA,QAAA,CAAA,EADA;AAEA,UAAA,IAAA,EAAA,QAAA,CAAA,IAFA;AAGA,UAAA,KAAA,EAAA,QAAA,CAAA,KAHA;AAIA,UAAA,WAAA,EAAA,QAAA,CAAA;AAJA,SAAA;AAAA,OAAA,CAAA;AAMA,KARA;AASA,IAAA,eATA,6BASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,aAAA,EAFA;;AAAA;AAEA,gBAAA,aAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,aAAA;;AACA,gBAAA,KAAA,CAAA,eAAA,CAAA,aAAA,CAAA,IAAA,CAAA,OAAA;;AAJA;AAAA;;AAAA;AAAA;AAAA;;AAMA,oBAAA,YAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,EAAA;AACA,oBAAA,KAAA,EAAA,YADA;AAEA,oBAAA,aAAA,EAAA,IAFA;AAGA,oBAAA,OAAA,EAAA,sBAHA;AAIA,oBAAA,OAAA,EAAA,QAJA;AAKA,oBAAA,WAAA,EAAA;AALA,mBAAA;AAOA,iBARA,MAQA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,OAAA,EAAA;AACA,oBAAA,KAAA,EAAA,YADA;AAEA,oBAAA,aAAA,EAAA,IAFA;AAGA,oBAAA,OAAA,EAAA,sBAHA;AAIA,oBAAA,OAAA,EAAA,QAJA;AAKA,oBAAA,WAAA,EAAA;AALA,mBAAA;AAOA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AAjCA,GAVA;AA6CA,EAAA,OA7CA,qBA6CA;AACA,SAAA,eAAA;AACA;AA/CA,CAAA","sourcesContent":["<template>\n  <div class=\"mx-sm-2 mx-md-3\">\n    <div class=\"mb-3\">\n      <router-link :to=\"{name: 'strategy-add'}\">\n        <b-button variant=\"primary\">\n          <b-icon icon=\"plus\" aria-hidden=\"true\"></b-icon>\n          新增策略\n        </b-button>\n      </router-link>\n    </div>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" lg=\"4\" v-for=\"strategy in strategyList\" :key=\"strategy.id\" class=\"mb-3\">\n        <strategy-item\n            :strategy=\"strategy\"\n            class=\"strategy-item\">\n        </strategy-item>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport StrategyItem from \"../components/StrategyItem\"\nimport {getStrategies} from \"@/api\"\n\nexport default {\n  name: \"strategy-list\",\n  components: {\n    StrategyItem\n  },\n  data() {\n    return {\n      strategyList: []\n    }\n  },\n  methods: {\n    setStrategyList(data) {\n      this.strategyList = data.map(strategy => ({\n        id: strategy.id,\n        name: strategy.name,\n        brief: strategy.brief,\n        description: strategy.description,\n      }))\n    },\n    async getStrategyList() {\n      try {\n        const strategiesRes = await getStrategies()\n        console.log(strategiesRes)\n        this.setStrategyList(strategiesRes.data.results)\n      } catch (error) {\n        if (error.response) {\n          this.$bvToast.toast('无法获取策略列表数据', {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        } else {\n          this.$bvToast.toast(error.message, {\n            title: '无法获取策略列表数据',\n            autoHideDelay: 3000,\n            toaster: 'b-toaster-top-center',\n            variant: 'danger',\n            appendToast: false\n          });\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getStrategyList()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.strategy-item {\n  height: 100%;\n}\n</style>"],"sourceRoot":"src/views"}]}